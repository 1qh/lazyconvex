appId: dev.lazyconvex.chat
---
- runFlow: login.yaml

- assertVisible: "Chats"

- tapOn:
    text: "plus"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "New Chat"
    timeout: 15000
- tapOn:
    text: "New Chat"
    index: 0
- waitForAnimationToEnd
- tapOn: "Message..."
- inputText: "First pagination chat"
- tapOn:
    id: "sendButton"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "First pagination chat"
    timeout: 15000
- back
- waitForAnimationToEnd

- tapOn:
    text: "plus"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "New Chat"
    timeout: 15000
- tapOn:
    text: "New Chat"
    index: 0
- waitForAnimationToEnd
- tapOn: "Message..."
- inputText: "Second pagination chat"
- tapOn:
    id: "sendButton"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "Second pagination chat"
    timeout: 15000
- back
- waitForAnimationToEnd

- tapOn:
    text: "plus"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "New Chat"
    timeout: 15000
- tapOn:
    text: "New Chat"
    index: 0
- waitForAnimationToEnd
- tapOn: "Message..."
- inputText: "Third pagination chat"
- tapOn:
    id: "sendButton"
- waitForAnimationToEnd
- extendedWaitUntil:
    visible: "Third pagination chat"
    timeout: 15000
- back
- waitForAnimationToEnd

- assertVisible: "Chats"

- swipe:
    direction: UP
    duration: 500

- swipe:
    direction: DOWN
    duration: 500

- scrollUntilVisible:
    element:
      id: "loadMore"
    direction: DOWN
    timeout: 5000
    optional: true

- extendedWaitUntil:
    visible: "Load More"
    timeout: 5000
    optional: true
